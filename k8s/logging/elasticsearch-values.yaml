clusterName: "elasticsearch"
nodeGroup: "master"
replicas: 1

extraEnvs:
  - name: ELASTIC_PASSWORD
    value: "elastic123!"

esConfig:
  elasticsearch.yml: |
    cluster.name: "elasticsearch"
    node.name: "elasticsearch-master-0"
    network.host: 0.0.0.0
    # 使用标准集群发现而不是 single-node
    cluster.initial_master_nodes: ["elasticsearch-master-0"]
    discovery.seed_hosts: ["elasticsearch-master-headless"]
    # 确保节点角色正确
    node.master: true
    node.data: true
    node.ingest: true
    # 禁用安全
    xpack.security.enabled: false
    cluster.deprecation_indexing.enabled: false

esJavaOpts: "-Xms512m -Xmx512m"

resources:
  requests:
    cpu: "500m"
    memory: "1Gi"
  limits:
    cpu: "1000m"
    memory: "1Gi"

persistence:
  enabled: true
  size: "8Gi"